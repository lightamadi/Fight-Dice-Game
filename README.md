extensive use of javascript classes and constructor function